<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="myApp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<link href="/back/resource/css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/back/resource/js/jquery.js" ></script>
</head>
<body ng-controller="main">
<div class="place" >
    <span>位置：</span>
    <ul class="placeul">
    <li><a href="/back/page/#">首页</a></li>
    <li><a href="/back/page/#">模块设计</a></li>
    <li><a href="/back/page/#">图片</a></li>
    </ul>
    </div>
    <div class="rightinfo">
    <ts-tool ng-show="show.tools"></ts-tool>
    <ts-list  ng-show="show.list"></ts-list>
    <ts-add ng-show="show.add"></ts-add>
    </div>
</body>
<script type="text/ng-template" id="tools">
    <div class="tools">
       <ul class="toolbar">
	        <li class="click"><span><img src="/back/resource/images/t01.png" /></span>添加</li>
	        <li class="click" ng-show="temp" >
	        	<span><img src="/back/resource/images/t02.png" /></span>修改</li>
	        <li ng-show="temp">
	        	<span><img src="/back/resource/images/t03.png" /></span>删除</li>
	        <li><span><img src="/back/resource/images/t04.png" /></span>统计</li>
        </ul>
        <ul class="toolbar1">
        <li><span><img src="/back/resource/images/t05.png" /></span>设置</li>
        </ul>
    </div>
</script>
<script type="text/ng-template" id="list">
    <ul class="classlist"
           ng-repeat="data in datas | orderBy : 'sort' : asc"
    >
    	<li     ng-click="li_click($index,data)"  ng-class="{focus:$index==focus}">
		<span><img src="/back/resource/images/001.jpg" /></span>
		<div class="lright">
		<h2>{{ data.title }}</h2>
		<p>课程数：{{ data.sort  }}<br />已完成：{{ data.show }}<br />学习中：6章</p>
		<a class="enter">进入课程</a>
		</div>
    	</li>
    </ul>
    <div class="clear"></div>
</script>
<script type="text/ng-template" id="add">
</script>
<script type="text/javascript" src="/public/plugin/util/jsExtend.js"></script>
<script type="text/javascript" src="/public/bower_components/angular/angular.js">
</script>
<script type="text/javascript" src="/public/bower_components/angular/angular-route.min.js"></script>
<script type="text/javascript" src="/public/bower_components/angular/tm.pagination.js">
</script>
<script type="text/javascript" src="/public/bower_components/angular/angular-ueditor.js">
</script>
<script type="text/javascript" src="/public/bower_components/angular/angular-showCtrl.js">
</script>
<script type="text/javascript">
var app = angular.module('myApp',['tm.pagination',
                                                            'ng.ueditor',
                                                            'service.showCtrl'
                                                            ]);
app.directive('tsTool',function(){
    return {
        restrict:'EAC',
        templateUrl:'tools'
    }
})
app.directive('tsList',function(){
    return {
        restrict:'EAC',
        templateUrl:'list'
    }
})
app.directive('tsAdd',function(){
    return {
        restrict:'EAC',
        templateUrl:'add'
    }
})

app.controller('main',['$scope','showCtrl'
,function($scope,showCtrl){
	$scope.show = showCtrl;
	$scope.show.$regist('list',['tools','list'],true);
	$scope.show.$regist('add',['add']);
	$scope.temp = null;
	$scope.datas = [
			{title:'kexue1',sort:1,show:true},
			{title:'kexue3',sort:3,show:true},
			{title:'kexue2',sort:2,show:true},
			{title:'kexue5',sort:5,show:true},
			{title:'kexue4',sort:4,show:true}
		]
	$scope.li_click = function(index,pojo){
		$scope.focus = index;
		$scope.temp = pojo;
	}
}])
</script>
</html>
